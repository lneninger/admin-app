{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/flex-layout/extended\";\nconst _c0 = [\"multiSelect\"];\nconst _c1 = [\"input\"];\n\nfunction SelectorItemComponent_div_1_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const selector_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", selector_r9.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(selector_r9.label);\n  }\n}\n\nfunction SelectorItemComponent_div_1_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const operator_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(operator_r10);\n  }\n}\n\nfunction SelectorItemComponent_div_1_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    $implicit: a0\n  };\n};\n\nfunction SelectorItemComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelementStart(1, \"section\", 6);\n    i0.ɵɵelementStart(2, \"select\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function SelectorItemComponent_div_1_Template_select_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.item.identifier = $event;\n    })(\"change\", function SelectorItemComponent_div_1_Template_select_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.onSelectorChange($event);\n    });\n    i0.ɵɵelement(3, \"option\");\n    i0.ɵɵtemplate(4, SelectorItemComponent_div_1_option_4_Template, 2, 2, \"option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"section\", 9);\n    i0.ɵɵelementStart(6, \"select\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function SelectorItemComponent_div_1_Template_select_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.item.operator = $event;\n    });\n    i0.ɵɵelement(7, \"option\");\n    i0.ɵɵtemplate(8, SelectorItemComponent_div_1_option_8_Template, 2, 1, \"option\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"section\", 12);\n    i0.ɵɵtemplate(10, SelectorItemComponent_div_1_ng_container_10_Template, 1, 0, \"ng-container\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 14);\n    i0.ɵɵelementStart(12, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function SelectorItemComponent_div_1_Template_div_click_12_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.setEditing(false);\n    });\n    i0.ɵɵelement(13, \"em\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function SelectorItemComponent_div_1_Template_div_click_14_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.setEditing();\n    });\n    i0.ɵɵelement(15, \"em\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.item.identifier);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.selectors);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.item.operator);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.itemSelector == null ? null : ctx_r0.itemSelector.operators);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.template)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(7, _c2, ctx_r0.config));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.saveOptions);\n  }\n}\n\nfunction SelectorItemComponent_ng_container_2_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction SelectorItemComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵelementStart(2, \"section\", 6);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"section\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"section\", 12);\n    i0.ɵɵtemplate(7, SelectorItemComponent_ng_container_2_ng_container_7_Template, 1, 0, \"ng-container\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 14);\n    i0.ɵɵelementStart(9, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function SelectorItemComponent_ng_container_2_Template_div_click_9_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.setEditing();\n    });\n    i0.ɵɵelement(10, \"em\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function SelectorItemComponent_ng_container_2_Template_div_click_11_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.setEditing();\n    });\n    i0.ɵɵelement(12, \"em\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.itemSelector.label || \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r1.item == null ? null : ctx_r1.item.operator) || \"N/A\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r1.template);\n  }\n}\n\nfunction SelectorItemComponent_ng_template_3_ng_container_0_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r25 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r25.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r25.label, \" \");\n  }\n}\n\nfunction SelectorItemComponent_ng_template_3_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"select\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function SelectorItemComponent_ng_template_3_ng_container_0_Template_select_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return ctx_r26.item.value = $event;\n    });\n    i0.ɵɵtemplate(2, SelectorItemComponent_ng_template_3_ng_container_0_option_2_Template, 2, 2, \"option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r21.item.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r21.itemSelector.valueOptions);\n  }\n}\n\nfunction SelectorItemComponent_ng_template_3_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r23.item == null ? null : ctx_r23.item.value) || \"N/A\", \" \");\n  }\n}\n\nfunction SelectorItemComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, SelectorItemComponent_ng_template_3_ng_container_0_Template, 3, 2, \"ng-container\", 22);\n    i0.ɵɵtemplate(1, SelectorItemComponent_ng_template_3_ng_template_1_Template, 1, 1, \"ng-template\", null, 23, i0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    const _r22 = i0.ɵɵreference(2);\n\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.item == null ? null : ctx_r3.item.editing)(\"ngIfElse\", _r22);\n  }\n}\n\nfunction SelectorItemComponent_ng_template_5_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function SelectorItemComponent_ng_template_5_ng_container_0_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return ctx_r31.item.value = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.item.value);\n  }\n}\n\nfunction SelectorItemComponent_ng_template_5_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r30.item == null ? null : ctx_r30.item.value) || \"N/A\", \" \");\n  }\n}\n\nfunction SelectorItemComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, SelectorItemComponent_ng_template_5_ng_container_0_Template, 2, 1, \"ng-container\", 22);\n    i0.ɵɵtemplate(1, SelectorItemComponent_ng_template_5_ng_template_1_Template, 1, 1, \"ng-template\", null, 23, i0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    const _r29 = i0.ɵɵreference(2);\n\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.item == null ? null : ctx_r5.item.editing)(\"ngIfElse\", _r29);\n  }\n}\n\nexport let SelectorItemComponent = /*#__PURE__*/(() => {\n  class SelectorItemComponent {\n    constructor() {\n      this.identifierChanged = new EventEmitter();\n      this.editing = new EventEmitter();\n    }\n\n    set config(value) {\n      this._config = value;\n      this.formatConfig();\n    }\n\n    get config() {\n      return this._config;\n    }\n\n    get itemSelector() {\n      if (this._item) {\n        return this._config.items.find(selectorItem => selectorItem.identifier === this._item.identifier);\n      }\n\n      return null;\n    }\n\n    get saveOptions() {\n      var _a;\n\n      return !((_a = this.item) === null || _a === void 0 ? void 0 : _a.isNew) ? 'fas fa-save' : 'fas fa-plus';\n    }\n\n    set item(value) {\n      this._item = value;\n      this.formatItem();\n    }\n\n    get item() {\n      return this._item;\n    }\n\n    ngOnInit() {}\n\n    formatItem() {\n      this.setTemplate();\n    }\n\n    setTemplate() {\n      switch (this.itemSelector && this.itemSelector.type) {\n        case 'multiSelect':\n          this.template = this.multiSelect;\n          break;\n\n        case 'input':\n          this.template = this.input;\n          break;\n      }\n    }\n\n    formatConfig() {\n      if (this.config) {\n        this.selectors = (this.config.items || []).map(selectorItem => ({\n          label: selectorItem.label,\n          value: selectorItem.identifier\n        }));\n      } else {\n        this.selectors = [];\n      }\n    }\n\n    setEditing(editing) {\n      this.editing.emit(editing);\n    }\n\n    onSelectorChange(identifier) {\n      this.formatItem();\n      this.identifierChanged.emit(identifier);\n    }\n\n  }\n\n  SelectorItemComponent.ɵfac = function SelectorItemComponent_Factory(t) {\n    return new (t || SelectorItemComponent)();\n  };\n\n  SelectorItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SelectorItemComponent,\n    selectors: [[\"app-selector-item\"]],\n    viewQuery: function SelectorItemComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n        i0.ɵɵviewQuery(_c1, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.multiSelect = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n      }\n    },\n    inputs: {\n      config: \"config\",\n      item: \"item\"\n    },\n    outputs: {\n      identifierChanged: \"identifierChanged\",\n      editing: \"editing\"\n    },\n    decls: 7,\n    vars: 2,\n    consts: [[3, \"ngSwitch\"], [\"class\", \"rounded-full py-2 px-3 border-2 border-blue-700 grid-flow-row grid-cols-4 gap-4 flex\", 4, \"ngSwitchCase\"], [4, \"ngSwitchDefault\"], [\"multiSelect\", \"\"], [\"input\", \"\"], [1, \"rounded-full\", \"py-2\", \"px-3\", \"border-2\", \"border-blue-700\", \"grid-flow-row\", \"grid-cols-4\", \"gap-4\", \"flex\"], [\"name\", \"identifier\"], [3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"operator\", 1, \"mx-2\"], [3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"name\", \"selection\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"flex\"], [1, \"ml-2\", \"flex\", \"items-center\", \"justify-center\", \"rounded-full\", \"h-6\", \"w-6\", \"bg-blue-700\", \"text-gray-100\", \"cursor-pointer\", \"hover:h-8\", \"hover:w-8\", 3, \"click\"], [3, \"ngClass\"], [1, \"fas\", \"fa-eraser\"], [3, \"value\"], [1, \"rounded-full\", \"py-2\", \"px-3\", \"border-2\", \"bg-blue-100\", \"border-blue-500\", \"grid-flow-row\", \"grid-cols-4\", \"gap-4\", \"flex\"], [4, \"ngTemplateOutlet\"], [1, \"fas\", \"fa-pencil-alt\"], [4, \"ngIf\", \"ngIfElse\"], [\"readStatusValue\", \"\"]],\n    template: function SelectorItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementContainerStart(0, 0);\n        i0.ɵɵtemplate(1, SelectorItemComponent_div_1_Template, 16, 9, \"div\", 1);\n        i0.ɵɵtemplate(2, SelectorItemComponent_ng_container_2_Template, 13, 3, \"ng-container\", 2);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(3, SelectorItemComponent_ng_template_3_Template, 3, 2, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(5, SelectorItemComponent_ng_template_5_Template, 3, 2, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngSwitch\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", ctx.item.editing);\n      }\n    },\n    directives: [i1.NgSwitch, i1.NgSwitchCase, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i1.NgForOf, i1.NgTemplateOutlet, i1.NgClass, i3.DefaultClassDirective, i1.NgSwitchDefault, i1.NgIf, i2.DefaultValueAccessor],\n    styles: [\"\"]\n  });\n  return SelectorItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}