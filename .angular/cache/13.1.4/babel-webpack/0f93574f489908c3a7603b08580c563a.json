{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { Select } from '@ngxs/store';\nimport { AutoUnsubscribe } from 'ngx-auto-unsubscribe';\nimport { UserService } from 'src/app/main/services/user/user.service';\nimport { BaseComponent } from 'src/app/shared/base.component';\nimport { TenantService } from './../../services/tenant/tenant.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngxs/store\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"src/app/shared/layout/layout-main/options/app-options.service\";\nimport * as i4 from \"src/app/main/services/user/auth.service\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/toolbar\";\nimport * as i8 from \"@angular/flex-layout/flex\";\nimport * as i9 from \"@angular/common\";\n\nfunction ToolbarUserComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"section\", 8);\n    i0.ɵɵelementStart(2, \"span\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const user_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r1.fullName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.email);\n  }\n}\n\nlet ToolbarUserComponent = class ToolbarUserComponent extends BaseComponent {\n  constructor(store, dialog, optionsService, authService) {\n    super();\n    this.store = store;\n    this.dialog = dialog;\n    this.optionsService = optionsService;\n    this.authService = authService;\n    this.defaultTenants = [];\n    this.defaultTenantsSubnscriptions = this.store.select(TenantService.defaultTenants).subscribe(defaultTenants => {\n      this.defaultTenants = defaultTenants;\n    });\n  }\n\n  ngOnInit() {\n    this.user$ = this.authService.user$;\n  }\n\n  ngAfterViewInit() {\n    this.initializeSearchListener();\n  }\n\n  click() {\n    this.clickInside = true;\n  }\n\n  clickout(event) {\n    // debugger;\n    if (!this.clickInside) {\n      // debugger;\n      this.showUserDetailsDialog = false;\n    }\n\n    this.clickInside = false;\n  }\n\n  initializeSearchListener() {}\n\n  showOverlay() {\n    this.showUserDetailsDialog = true; // console.log(`show User details`);\n  }\n\n  hideOverlay() {\n    this.showUserDetailsDialog = false; // console.log(`hide User details`);\n  }\n\n  someDefaultTenants(tenantName) {\n    if (this.defaultTenants) {\n      return this.defaultTenants.some(item => item.tenantName === tenantName);\n    }\n  }\n\n};\n\nToolbarUserComponent.ɵfac = function ToolbarUserComponent_Factory(t) {\n  return new (t || ToolbarUserComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.AppOptionsService), i0.ɵɵdirectiveInject(i4.AuthService));\n};\n\nToolbarUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ToolbarUserComponent,\n  selectors: [[\"app-toolbar-user\"]],\n  hostBindings: function ToolbarUserComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"click\", function ToolbarUserComponent_click_HostBindingHandler() {\n        return ctx.click();\n      })(\"click\", function ToolbarUserComponent_click_HostBindingHandler($event) {\n        return ctx.clickout($event);\n      }, false, i0.ɵɵresolveDocument);\n    }\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 12,\n  vars: 4,\n  consts: [[\"mat-icon-button\", \"\", 1, \"submitButton\", 3, \"mouseover\", \"mouseout\", \"click\"], [\"fontSet\", \"fas\", \"fontIcon\", \"fa-user-circle\", 2, \"font-size\", \"23px\"], [1, \"rounded-xl\", \"overflow-hidden\", \"bg-gray-300\", \"border\", \"border-gray-600\", 2, \"position\", \"absolute\", \"z-index\", \"10000\", \"width\", \"400px\", \"top\", \"70px\", \"right\", \"0\"], [\"color\", \"primary\"], [1, \"example-spacer\"], [\"fxLayoutGap\", \"20px\"], [\"fxLayout\", \"column\", \"fxLayoutGap\", \"20px\", 1, \"mx-8\", \"pb-4\"], [4, \"ngIf\"], [\"fxLayout\", \"column\"], [1, \"text-lg\", \"font-light\", \"italic\", \"text-gray-900\"]],\n  template: function ToolbarUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"mouseover\", function ToolbarUserComponent_Template_button_mouseover_0_listener() {\n        return ctx.showOverlay();\n      })(\"mouseout\", function ToolbarUserComponent_Template_button_mouseout_0_listener() {\n        return ctx.hideOverlay();\n      })(\"click\", function ToolbarUserComponent_Template_button_click_0_listener() {\n        return ctx.optionsService.toggleOptions(\"settings\");\n      });\n      i0.ɵɵelement(1, \"mat-icon\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"mat-toolbar\", 3);\n      i0.ɵɵelementStart(4, \"mat-toolbar-row\");\n      i0.ɵɵelementStart(5, \"span\");\n      i0.ɵɵtext(6, \"User Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"span\", 4);\n      i0.ɵɵelement(8, \"section\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵtemplate(10, ToolbarUserComponent_ng_container_10_Template, 6, 2, \"ng-container\", 7);\n      i0.ɵɵpipe(11, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"@searchToggle\", ctx.showUserDetailsDialog ? \"open-userdetails\" : \"close-userdetails\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 2, ctx.user$));\n    }\n  },\n  directives: [i5.MatButton, i6.MatIcon, i7.MatToolbar, i7.MatToolbarRow, i8.DefaultLayoutGapDirective, i8.DefaultLayoutDirective, i9.NgIf],\n  pipes: [i9.AsyncPipe],\n  styles: [\"[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]     * .searchFields{overflow:hidden}\"],\n  data: {\n    animation: [trigger('searchToggle', [state('open', style({\n      width: '100%',\n      padding: '1rem'\n    })), state('close', style({\n      width: '0px'\n    })), state('open-userdetails', style({\n      display: 'block'\n    })), state('close-userdetails', style({\n      height: '0px',\n      display: 'none'\n    })), transition('void => close', [animate('0s')]), transition('* => close', [animate('0.2s')]), transition('* => open', [animate('0.5s')])])]\n  }\n});\n\n__decorate([Select(UserService.userRoles)], ToolbarUserComponent.prototype, \"userRoles$\", void 0);\n\n__decorate([Select(TenantService.globalTenants)], ToolbarUserComponent.prototype, \"globalTenants$\", void 0);\n\nToolbarUserComponent = __decorate([AutoUnsubscribe()], ToolbarUserComponent);\nexport { ToolbarUserComponent };","map":null,"metadata":{},"sourceType":"module"}